var SearchManager=function(n){var e={urlGetSeatsMap:"",urlBookSeats:"",isMobile:""},r,i,t=[],f=function(r){var u=jQuery.inArray(r,t);u>=0?t.splice(u,1):t.push(r);n("#containerSeatNumber_"+i).html(t.join(", "))},u=function(t){r.isMobile=="True"&&n("html, body").animate({scrollTop:t.offset().top-270},200)},o=function(){n(".js-chooseNumberOfSeat").on("click",function(){var f,e,o;return i!=n(this).data("lineplanningid")&&(n(".containerseatselection").html(""),n(".containerseatselection").css("display","none"),t=[],f={cityFromId:n(this).data("cityfromid"),cityToId:n(this).data("citytoid"),linePlanningId:n(this).data("lineplanningid"),nbSeats:n(this).data("nbseats"),availableSeats:n(this).data("availableseats"),partnerid:n(this).data("partnerid")},i=f.linePlanningId,e=n("#"+n(this).attr("id")),o=n("[name=__RequestVerificationToken]").val(),n.ajax({url:r.urlGetSeatsMapSimple,type:"POST",data:JSON.stringify(f),contentType:"application/json; charset=utf-8",headers:{__RequestVerificationToken:o},success:function(t){t.success&&(n("#containerSeat_"+f.linePlanningId).show(),n("#containerSeat_"+f.linePlanningId).html(t.html),u(e))}})),!1});n(".js-chooseSeat").on("click",function(){var f,e;return u(),i!=n(this).data("lineplanningid")&&(n(".containerseatselection").html(""),n(".containerseatselection").css("display","none"),t=[],f={cityFromId:n(this).data("cityfromid"),cityToId:n(this).data("citytoid"),linePlanningId:n(this).data("lineplanningid"),nbSeats:n(this).data("nbseats"),availableSeats:n(this).data("availableseats")},i=f.linePlanningId,e=n("[name=__RequestVerificationToken]").val(),n.ajax({url:r.urlGetSeatsMap,type:"POST",data:JSON.stringify(f),contentType:"application/json; charset=utf-8",headers:{__RequestVerificationToken:e},success:function(t){t.success&&(n("#containerSeat_"+f.linePlanningId).show(),n("#containerSeat_"+f.linePlanningId).html(t.html),u(n(".js-chooseSeat")))}})),!1});n(document).on("click",".js-book",function(){if(t.length>0){var i=n(this).data("url");window.location.replace(i+"/"+t.join(","))}});n(document).on("click",".js-book-byNbSeats",function(){if(n(".select-nbSeats").val()){SpinnerManager.showLoader();var t=n(this).data("url");window.location.replace(t+"/"+n(".select-nbSeats").val())}});n(document).on("click",".available",function(){n(this).removeClass("available");n(this).addClass("selected");var t=n(this).data("seatid");f(t)});n(document).on("click",".selected",function(){n(this).removeClass("selected");n(this).addClass("available");var t=n(this).data("seatid");f(t)})},s=function(){},h=function(t){r=n.extend(!0,{},e,t||{});o();s()};return{init:h}}(jQuery),SpinnerManager;!function(n,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Spinner=t()}(this,function(){"use strict";function i(n,t){var i,r=document.createElement(n||"div");for(i in t)r[i]=t[i];return r}function t(n){for(var t=1,i=arguments.length;i>t;t++)n.appendChild(arguments[t]);return n}function a(n,t,i,r){var f=["opacity",t,~~(100*n),i,r].join("-"),e=.01+i/r*100,s=Math.max(1-(1-n)/t*(100-e),n),h=u.substring(0,u.indexOf("Animation")).toLowerCase(),c=h&&"-"+h+"-"||"";return l[f]||(o.insertRule("@"+c+"keyframes "+f+"{0%{opacity:"+s+"}"+e+"%{opacity:"+n+"}"+(e+.01)+"%{opacity:1}"+(e+t)%100+"%{opacity:"+n+"}100%{opacity:"+s+"}}",o.cssRules.length),l[f]=1),f}function e(n,t){var r,i,u=n.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<c.length;i++)if(r=c[i]+t,void 0!==u[r])return r;if(void 0!==u[t])return t}function n(n,t){for(var i in t)n.style[e(n,i)||i]=t[i];return n}function s(n){for(var r,i,t=1;t<arguments.length;t++){r=arguments[t];for(i in r)void 0===n[i]&&(n[i]=r[i])}return n}function h(n,t){return"string"==typeof n?n:n[t%n.length]}function r(n){this.opts=s(n||{},r.defaults,y)}function v(){function u(n,t){return i("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}o.addRule(".spin-vml","behavior:url(#default#VML)");r.prototype.lines=function(i,r){function s(){return n(u("group",{coordsize:o+" "+o,coordorigin:-e+" "+-e}),{width:o,height:o})}function c(i,f,o){t(a,t(n(s(),{rotation:360/r.lines*i+"deg",left:~~f}),t(n(u("roundrect",{arcsize:r.corners}),{width:e,height:r.width,left:r.radius,top:-r.width>>1,filter:o}),u("fill",{color:h(r.color,i),opacity:r.opacity}),u("stroke",{opacity:0}))))}var f,e=r.length+r.width,o=2*e,l=2*-(r.width+r.length)+"px",a=n(s(),{position:"absolute",top:l,left:l});if(r.shadow)for(f=1;f<=r.lines;f++)c(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=r.lines;f++)c(f);return t(i,a)};r.prototype.opacity=function(n,t,i,r){var u=n.firstChild;r=r.shadow&&r.lines||0;u&&t+r<u.childNodes.length&&(u=u.childNodes[t+r],u=u&&u.firstChild,u=u&&u.firstChild,u&&(u.opacity=i))}}var u,c=["webkit","Moz","ms","O"],l={},o=function(){var n=i("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),y={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"},f;return r.defaults={},s(r.prototype,{spin:function(t){this.stop();var f=this,r=f.opts,e=f.el=n(i(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex});if(r.radius+r.length+r.width,n(e,{left:r.left,top:r.top}),t&&t.insertBefore(e,t.firstChild||null),e.setAttribute("role","progressbar"),f.lines(e,f.opts),!u){var s,h=0,l=(r.lines-1)*(1-r.direction)/2,c=r.fps,o=c/r.speed,a=(1-r.opacity)/(o*r.trail/100),v=o/r.lines;!function y(){h++;for(var n=0;n<r.lines;n++)s=Math.max(1-(h+(r.lines-n)*v)%o*a,r.opacity),f.opacity(e,n*r.direction+l,s,r);f.timeout=f.el&&setTimeout(y,~~(1e3/c))}()}return f},stop:function(){var n=this.el;return n&&(clearTimeout(this.timeout),n.parentNode&&n.parentNode.removeChild(n),this.el=void 0),this},lines:function(r,f){function s(t,r){return n(i(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:t,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*e+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var o,e=0,c=(f.lines-1)*(1-f.direction)/2;e<f.lines;e++)o=n(i(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:u&&a(f.opacity,f.trail,c+e*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&t(o,n(s("#000","0 0 4px #000"),{top:"2px"})),t(r,t(o,s(h(f.color,e),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(n,t,i){t<n.childNodes.length&&(n.childNodes[t].style.opacity=i)}}),f=n(i("group"),{behavior:"url(#default#VML)"}),!e(f,"transform")&&f.adj?v():u=e(f,"animation"),r});SpinnerManager=function(n){var u={containerSpinnerId:"spinnerWrapperId",containerBackgroundId:"opaqueWrapperId",opts:{lines:15,length:30,width:11,radius:12,corners:.7,rotate:0,direction:-1,color:"#fff",speed:.7,trail:49,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"}},t,i,r=function(){n("#opaqueWrapperId").removeClass("fullscreen").addClass("fullscreen");var i=document.getElementById(t.containerSpinnerId);return new Spinner(t.opts).spin(i)},f=function(){jQuery.ajaxSetup({beforeSend:function(){n("#"+t.containerBackgroundId).show();i=r()},complete:function(){n("#"+t.containerBackgroundId).hide();i&&i.stop();document.getElementById(t.containerSpinnerId).innerHTML=""},success:function(){}})},e=function(){n("#"+t.containerBackgroundId).show();i=r()};return _init=function(i){t=n.extend(!0,{},u,i||{});f()},{init:_init,showLoader:e}}(jQuery),function(n,t,i,r,u,f,e){n.GoogleAnalyticsObject=u;n[u]=n[u]||function(){(n[u].q=n[u].q||[]).push(arguments)};n[u].l=1*new Date;f=t.createElement(i);e=t.getElementsByTagName(i)[0];f.async=1;f.src=r;e.parentNode.insertBefore(f,e)}(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-74140850-1","auto");ga("send","pageview");$.fn.serializeObject=function(){var n={},t=this.serializeArray();return $.each(t,function(){n[this.name]!==undefined?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""}),n};$(".js-submenu").click(function(){$(".navbar-collapse").slideToggle()})